# üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS –¥–ª—è –Ø–Ω–¥–µ–∫—Å –ü–∞—Ä—Å–µ—Ä–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
chmod +x create_ssl.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
./create_ssl.sh
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm start
```

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ server.js

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ HTTPS
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ ssl/
- ‚úÖ –ó–∞–ø—É—Å–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É 80
- ‚úÖ –ó–∞–ø—É—Å–∫ HTTPS —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ—Ä—Ç—É 443
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ URL

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ HTTPS:

- **HTTP**: `http://YOUR_IP:80` (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `http://YOUR_IP`)
- **HTTPS**: `https://YOUR_IP:443` (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `https://YOUR_IP`)

## üîß –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É ssl
mkdir ssl

# –°–æ–∑–¥–∞–π—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
openssl req -x509 -newkey rsa:4096 \
    -keyout ssl/key.pem \
    -out ssl/cert.pem \
    -days 365 \
    -nodes \
    -subj "/C=RU/ST=State/L=City/O=YandexParser/CN=YOUR_IP"
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü–æ—Ä—Ç 443 —Ç—Ä–µ–±—É–µ—Ç root –ø—Ä–∞–≤** - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å sudo
2. **–°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** - –±—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
3. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Let's Encrypt

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç 443 –∑–∞–Ω—è—Ç
```bash
# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ server.js
const HTTPS_PORT = process.env.HTTPS_PORT || 8443;
```

### –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –ø–æ—Ä—Ç 443
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å sudo
sudo npm start

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ä—Ç –≤—ã—à–µ 1024
HTTPS_PORT=8443 npm start
```

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ OpenSSL
sudo apt install openssl  # Ubuntu/Debian
sudo yum install openssl  # CentOS/RHEL
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞

–í `yandex_interceptor.js` –∏–∑–º–µ–Ω–∏—Ç–µ:
```javascript
const SERVER_URL = `https://YOUR_IP/receive_data`;
const TEST_URL = `https://YOUR_IP/test`;
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **HTTP —Ç–µ—Å—Ç**: `curl http://YOUR_IP:80/test`
2. **HTTPS —Ç–µ—Å—Ç**: `curl -k https://YOUR_IP:443/test`
3. **–í –±—Ä–∞—É–∑–µ—Ä–µ**: `https://YOUR_IP:443`

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ HTTPS:
- ‚úÖ CSP –Ω–µ –±—É–¥–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ Mixed Content –æ—à–∏–±–∫–∏ –∏—Å—á–µ–∑–Ω—É—Ç
- ‚úÖ –ü–∞—Ä—Å–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞–º–∏ 
class CallbackHandler {
    constructor(gigaChatService) {
        this.gigaChatService = gigaChatService;
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
    async handleCallback(callbackQuery, bot) {
        const chatId = callbackQuery.message.chat.id;
        const data = callbackQuery.data;
        const userName = callbackQuery.from.first_name;
        
        console.log(`üîò –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞: ${data} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ${userName}`);
        
        let responseText = '';
        
        switch (data) {
            case 'start_bot':
                responseText = `üöÄ –ü—Ä–∏–≤–µ—Ç, ${userName}! –ë–æ—Ç —É–∂–µ –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!\n\n–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏ —è –æ—Ç–≤–µ—á—É —Å –ø–æ–º–æ—â—å—é –ò–ò! ü§ñ`;
                break;
                
            case 'about_bot':
                responseText = `‚ÑπÔ∏è –û –±–æ—Ç–µ:\n\nü§ñ –ù–∞–∑–≤–∞–Ω–∏–µ: Telegram Bot —Å GigaChat\nüìÖ –í–µ—Ä—Å–∏—è: 1.0.0\nüîß –Ø–∑—ã–∫: JavaScript\nü§ñ –ò–ò: GigaChat API\nüìä –†–µ–∂–∏–º: –ü–æ–ª–ª–∏–Ω–≥\n\n–£–º–Ω—ã–π –±–æ—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –ò–ò GigaChat –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.`;
                break;
                
            case 'settings':
                responseText = `üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏:\n\n‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ú–æ–¥—É–ª—å–Ω–∞—è\nüìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞: src/modules/\nüîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: config.js\nü§ñ –ò–ò: GigaChat\n\n–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ config.js`;
                break;
                
            default:
                responseText = `‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: ${data}`;
        }
        
        // –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ callback query
        bot.answerCallbackQuery(callbackQuery.id, {
            text: '‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ!'
        });
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç
        bot.sendMessage(chatId, responseText);
    }
}

module.exports = CallbackHandler; 